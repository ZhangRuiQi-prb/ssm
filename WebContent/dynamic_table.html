<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="description" content="">
<meta name="author" content="ThemeBucket">
<link rel="shortcut icon" href="#" type="image/png">
<!--<link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
   <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>-->

<title>Dynamic Table</title>
<link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!--dynamic table-->
<link href="js/advanced-datatable/css/demo_page.css" rel="stylesheet" />
<link href="js/advanced-datatable/css/demo_table.css" rel="stylesheet" />
<link rel="stylesheet" href="js/data-tables/DT_bootstrap.css" />

<link href="css/style.css" rel="stylesheet">
<link href="css/style-responsive.css" rel="stylesheet">

<link rel="stylesheet" href="css/bootstrap-table.css" />
<link rel="stylesheet" type="text/css" href="js/bootstrap-datepicker/css/datepicker-custom.css" />
<link rel="stylesheet" type="text/css" href="js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
<link rel="stylesheet" type="text/css" href="js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />
   <!--file upload-->
<link rel="stylesheet" type="text/css" href="css/bootstrap-fileupload.min.css" />
<link rel="stylesheet" type="text/css" href="css/jquery-confirm.css"/>
</head>

<body class="sticky-header">

	<section>
		<!-- left side start-->
		<div class="left-side sticky-left-side">

			<!--logo and iconic logo start-->
			<div class="logo">
				<a href="index.html"><img src="images/logo.png" alt=""></a>
			</div>

			<div class="logo-icon text-center">
				<a href="index.html"><img src="images/logo_icon.png" alt=""></a>
			</div>
			<!--logo and iconic logo end-->


			<div class="left-side-inner">

				<!-- visible to small devices only -->
				<div class="visible-xs hidden-sm hidden-md hidden-lg">
					<div class="media logged-user">
						<img alt="" src="images/photos/user-avatar.png"
							class="media-object">
						<div class="media-body">
							<h4>
								<a href="#">John Doe</a>
							</h4>
							<span>"Hello There..."</span>
						</div>
					</div>

					<h5 class="left-nav-title">Account Information</h5>
					<ul class="nav nav-pills nav-stacked custom-nav">
						<li><a href="#"><i class="fa fa-user"></i> <span>Profile</span></a></li>
						<li><a href="#"><i class="fa fa-cog"></i> <span>Settings</span></a></li>
						<li><a href="#"><i class="fa fa-sign-out"></i> <span>Sign
									Out</span></a></li>
					</ul>
				</div>

				<!--sidebar nav start-->
				<ul class="nav nav-pills nav-stacked custom-nav">
					<li><a href="index.html"><i class="fa fa-home"></i> <span>Dashboard</span></a></li>
					<li class="menu-list"><a href=""><i class="fa fa-laptop"></i>
							<span>Layouts</span></a>
						<ul class="sub-menu-list">
							<li><a href="blank_page.html"> Blank Page</a></li>
							<li><a href="boxed_view.html"> Boxed Page</a></li>
							<li><a href="leftmenu_collapsed_view.html"> Sidebar
									Collapsed</a></li>
							<li><a href="horizontal_menu.html"> Horizontal Menu</a></li>

						</ul></li>
					<li class="menu-list"><a href=""><i class="fa fa-book"></i>
							<span>UI Elements</span></a>
						<ul class="sub-menu-list">
							<li><a href="general.html"> General</a></li>
							<li><a href="buttons.html"> Buttons</a></li>
							<li><a href="tabs-accordions.html"> Tabs & Accordions</a></li>
							<li><a href="typography.html"> Typography</a></li>
							<li><a href="slider.html"> Slider</a></li>
							<li><a href="panels.html"> Panels</a></li>
						</ul></li>
					<li class="menu-list"><a href=""><i class="fa fa-cogs"></i>
							<span>Components</span></a>
						<ul class="sub-menu-list">
							<li><a href="grids.html"> Grids</a></li>
							<li><a href="gallery.html"> Media Gallery</a></li>
							<li><a href="calendar.html"> Calendar</a></li>
							<li><a href="tree_view.html"> Tree View</a></li>
							<li><a href="nestable.html"> Nestable</a></li>

						</ul></li>

					<li><a href="fontawesome.html"><i class="fa fa-bullhorn"></i>
							<span>Fontawesome</span></a></li>

					<li class="menu-list"><a href=""><i class="fa fa-envelope"></i>
							<span>Mail</span></a>
						<ul class="sub-menu-list">
							<li><a href="mail.html"> Inbox</a></li>
							<li><a href="mail_compose.html"> Compose Mail</a></li>
							<li><a href="mail_view.html"> View Mail</a></li>
						</ul></li>

					<li class="menu-list"><a href=""><i class="fa fa-tasks"></i>
							<span>Forms</span></a>
						<ul class="sub-menu-list">
							<li><a href="form_layouts.html"> Form Layouts</a></li>
							<li><a href="form_advanced_components.html"> Advanced
									Components</a></li>
							<li><a href="form_wizard.html"> Form Wizards</a></li>
							<li><a href="form_validation.html"> Form Validation</a></li>
							<li><a href="editors.html"> Editors</a></li>
							<li><a href="inline_editors.html"> Inline Editors</a></li>
							<li><a href="pickers.html"> Pickers</a></li>
							<li><a href="dropzone.html"> Dropzone</a></li>
						</ul></li>
					<li class="menu-list"><a href=""><i
							class="fa fa-bar-chart-o"></i> <span>Charts</span></a>
						<ul class="sub-menu-list">
							<li><a href="flot_chart.html"> Flot Charts</a></li>
							<li><a href="morris.html"> Morris Charts</a></li>
							<li><a href="chartjs.html"> Chartjs</a></li>
							<li><a href="c3chart.html"> C3 Charts</a></li>
						</ul></li>
					<li class="menu-list nav-active"><a href="#"><i
							class="fa fa-th-list"></i> <span>Data Tables</span></a>
						<ul class="sub-menu-list">
							<li><a href="basic_table.html"> Basic Table</a></li>
							<li class="active"><a href="dynamic_table.html">
									Advanced Table</a></li>
							<li><a href="responsive_table.html"> Responsive Table</a></li>
							<li><a href="editable_table.html"> Edit Table</a></li>
						</ul></li>

					<li class="menu-list"><a href="#"><i
							class="fa fa-map-marker"></i> <span>Maps</span></a>
						<ul class="sub-menu-list">
							<li><a href="google_map.html"> Google Map</a></li>
							<li><a href="vector_map.html"> Vector Map</a></li>
						</ul></li>
					<li class="menu-list"><a href=""><i
							class="fa fa-file-text"></i> <span>Extra Pages</span></a>
						<ul class="sub-menu-list">
							<li><a href="profile.html"> Profile</a></li>
							<li><a href="invoice.html"> Invoice</a></li>
							<li><a href="pricing_table.html"> Pricing Table</a></li>
							<li><a href="timeline.html"> Timeline</a></li>
							<li><a href="blog_list.html"> Blog List</a></li>
							<li><a href="blog_details.html"> Blog Details</a></li>
							<li><a href="directory.html"> Directory </a></li>
							<li><a href="chat.html"> Chat </a></li>
							<li><a href="404.html"> 404 Error</a></li>
							<li><a href="500.html"> 500 Error</a></li>
							<li><a href="registration.html"> Registration Page</a></li>
							<li><a href="lock_screen.html"> Lockscreen </a></li>
						</ul></li>
					<li><a href="login.html"><i class="fa fa-sign-in"></i> <span>Login
								Page</span></a></li>

				</ul>
				<!--sidebar nav end-->

			</div>
		</div>
		<!-- left side end-->

		<!-- main content start-->
		<div class="main-content">

			<!-- header section start-->
			<div class="header-section">

				<!--toggle button start-->
				<a class="toggle-btn"><i class="fa fa-bars"></i></a>
				<!--toggle button end-->

				<!--search start-->
				<form class="searchform" action="index.html" method="post">
					<input type="text" class="form-control" name="keyword"
						placeholder="Search here..." />
				</form>
				<!--search end-->

				<!--notification menu start -->
				<div class="menu-right">
					<ul class="notification-menu">
						<li><a href="#"
							class="btn btn-default dropdown-toggle info-number"
							data-toggle="dropdown"> <i class="fa fa-tasks"></i> <span
								class="badge">8</span>
						</a>
							<div class="dropdown-menu dropdown-menu-head pull-right">
								<h5 class="title">You have 8 pending task</h5>
								<ul class="dropdown-list user-list">
									<li class="new"><a href="#">
											<div class="task-info">
												<div>Database update</div>
											</div>
											<div class="progress progress-striped">
												<div style="width: 40%" aria-valuemax="100"
													aria-valuemin="0" aria-valuenow="40" role="progressbar"
													class="progress-bar progress-bar-warning">
													<span class="">40%</span>
												</div>
											</div>
									</a></li>
									<li class="new"><a href="#">
											<div class="task-info">
												<div>Dashboard done</div>
											</div>
											<div class="progress progress-striped">
												<div style="width: 90%" aria-valuemax="100"
													aria-valuemin="0" aria-valuenow="90" role="progressbar"
													class="progress-bar progress-bar-success">
													<span class="">90%</span>
												</div>
											</div>
									</a></li>
									<li><a href="#">
											<div class="task-info">
												<div>Web Development</div>
											</div>
											<div class="progress progress-striped">
												<div style="width: 66%" aria-valuemax="100"
													aria-valuemin="0" aria-valuenow="66" role="progressbar"
													class="progress-bar progress-bar-info">
													<span class="">66% </span>
												</div>
											</div>
									</a></li>
									<li><a href="#">
											<div class="task-info">
												<div>Mobile App</div>
											</div>
											<div class="progress progress-striped">
												<div style="width: 33%" aria-valuemax="100"
													aria-valuemin="0" aria-valuenow="33" role="progressbar"
													class="progress-bar progress-bar-danger">
													<span class="">33% </span>
												</div>
											</div>
									</a></li>
									<li><a href="#">
											<div class="task-info">
												<div>Issues fixed</div>
											</div>
											<div class="progress progress-striped">
												<div style="width: 80%" aria-valuemax="100"
													aria-valuemin="0" aria-valuenow="80" role="progressbar"
													class="progress-bar">
													<span class="">80% </span>
												</div>
											</div>
									</a></li>
									<li class="new"><a href="">See All Pending Task</a></li>
								</ul>
							</div></li>
						<li><a href="#"
							class="btn btn-default dropdown-toggle info-number"
							data-toggle="dropdown"> <i class="fa fa-envelope-o"></i> <span
								class="badge">5</span>
						</a>
							<div class="dropdown-menu dropdown-menu-head pull-right">
								<h5 class="title">You have 5 Mails</h5>
								<ul class="dropdown-list normal-list">
									<li class="new"><a href=""> <span class="thumb"><img
												src="images/photos/user1.png" alt="" /></span> <span class="desc">
												<span class="name">John Doe <span
													class="badge badge-success">new</span></span> <span class="msg">Lorem
													ipsum dolor sit amet...</span>
										</span>
									</a></li>
									<li><a href=""> <span class="thumb"><img
												src="images/photos/user2.png" alt="" /></span> <span class="desc">
												<span class="name">Jonathan Smith</span> <span class="msg">Lorem
													ipsum dolor sit amet...</span>
										</span>
									</a></li>
									<li><a href=""> <span class="thumb"><img
												src="images/photos/user3.png" alt="" /></span> <span class="desc">
												<span class="name">Jane Doe</span> <span class="msg">Lorem
													ipsum dolor sit amet...</span>
										</span>
									</a></li>
									<li><a href=""> <span class="thumb"><img
												src="images/photos/user4.png" alt="" /></span> <span class="desc">
												<span class="name">Mark Henry</span> <span class="msg">Lorem
													ipsum dolor sit amet...</span>
										</span>
									</a></li>
									<li><a href=""> <span class="thumb"><img
												src="images/photos/user5.png" alt="" /></span> <span class="desc">
												<span class="name">Jim Doe</span> <span class="msg">Lorem
													ipsum dolor sit amet...</span>
										</span>
									</a></li>
									<li class="new"><a href="">Read All Mails</a></li>
								</ul>
							</div></li>
						<li><a href="#"
							class="btn btn-default dropdown-toggle info-number"
							data-toggle="dropdown"> <i class="fa fa-bell-o"></i> <span
								class="badge">4</span>
						</a>
							<div class="dropdown-menu dropdown-menu-head pull-right">
								<h5 class="title">Notifications</h5>
								<ul class="dropdown-list normal-list">
									<li class="new"><a href=""> <span
											class="label label-danger"><i class="fa fa-bolt"></i></span>
											<span class="name">Server #1 overloaded. </span> <em
											class="small">34 mins</em>
									</a></li>
									<li class="new"><a href=""> <span
											class="label label-danger"><i class="fa fa-bolt"></i></span>
											<span class="name">Server #3 overloaded. </span> <em
											class="small">1 hrs</em>
									</a></li>
									<li class="new"><a href=""> <span
											class="label label-danger"><i class="fa fa-bolt"></i></span>
											<span class="name">Server #5 overloaded. </span> <em
											class="small">4 hrs</em>
									</a></li>
									<li class="new"><a href=""> <span
											class="label label-danger"><i class="fa fa-bolt"></i></span>
											<span class="name">Server #31 overloaded. </span> <em
											class="small">4 hrs</em>
									</a></li>
									<li class="new"><a href="">See All Notifications</a></li>
								</ul>
							</div></li>
						<li><a href="#" class="btn btn-default dropdown-toggle"
							data-toggle="dropdown"> <img
								src="images/photos/user-avatar.png" alt="" /> John Doe <span
								class="caret"></span>
						</a>
							<ul class="dropdown-menu dropdown-menu-usermenu pull-right">
								<li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
								<li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
								<li><a href="#"><i class="fa fa-sign-out"></i> Log Out</a></li>
							</ul></li>

					</ul>
				</div>
				<!--notification menu end -->

			</div>
			<!-- header section end-->

			<!-- page heading start-->
			<div class="page-heading">
				<h3>Dynamic Table</h3>
				<ul class="breadcrumb">
					<li><a href="#">Dashboard</a></li>
					<li><a href="#">Data Tables</a></li>
					<li class="active">Dynamic Table</li>
				</ul>
			</div>
			<!-- page heading end-->

			<!--body wrapper start-->
			<div class="wrapper">
				<div class="row">
					<div class="col-sm-12">
						<section class="panel">
							<header class="panel-heading">
								Dynamic Table <span class="tools pull-right"> <a
									href="javascript:;" class="fa fa-chevron-down"></a> <a
									href="javascript:;" class="fa fa-times"></a>
								</span>
							</header>
							<div class="panel-body">
								<div di="searchForm2" style="width: 3800px;"  >
									<a class="btn btn-primary" data-toggle="modal" href="#myModal2">
									Add New
									</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;						   			
									<label>学号:</label>
										<div class="btn-group" style="width: 100px;">
											<input type="text" class="form-control" id="id2" >
										</div> &nbsp;&nbsp;&nbsp;
									<label>学生姓名:</label>
										<div class="btn-group" style="width: 120px;">
											<input type="text" id="name2" class="form-control">
										</div>&nbsp;&nbsp;&nbsp;
									<label>实习公司:</label>
										<div class="btn-group" style="width: 130px;">
											<select class="form-control" style="width: 130px;" id="companyItems1" name="">
											</select>
										</div>&nbsp;&nbsp;&nbsp;
									<label >实习岗位:</label>
										<div class="btn-group"  style="width: 130px;">							   
											<select class="form-control" style="width: 130px;" id="positionItems1" name="">			   																
											</select>
										</div>&nbsp;&nbsp;&nbsp;
									<label >所学专业:</label>
										<div class="btn-group" style="width: 130px;">
											<select class="form-control" style="width: 130px;" id="majorItems1" name="">			   																
											</select>
										</div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									<a class="btn btn-success" id="searchBtn" style="width: 135px;" data-toggle="modal" href="javascript:;">
									Search</a> 																			
								</div>
							
							
								<div class="adv-table">
									<!-- <a class="btn btn-primary" data-toggle="modal" href="#myModal2">
										Add New </a> -->
									<!---->
									<!-- insert  Modal -->
									<div class="modal fade" id="myModal2" tabindex="-1"
										role="dialog" aria-labelledby="myModalLabel"
										aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-hidden="true">&times;</button>
													<h4 class="modal-title">添加学生</h4>
												</div>
												<div class="modal-body">
													<form action="files/upload.action" class="form-horizontal " id="formStu"
														method="post" enctype="multipart/form-data">

														<div class="form-group">
															<label class="control-label col-md-4">姓名</label>
															<div class="col-md-6 col-xs-11">
																<input
																	class="form-control form-control-inline input-medium default-date-picker"
																	size="16" type="text" value="" id="sname" name="sname"/> 
															</div>
														</div>

														<div class="form-group">
															<label class="control-label col-md-4">年龄</label>
															<div class="col-md-6 col-xs-11">
																<input
																	class="form-control form-control-inline input-medium default-date-picker"
																	size="30" type="text" value="" id="sage" name="sage"/> 
															</div>
														</div>
														
														<div class="form-group">
															<label class="control-label col-md-4">性别</label>
															<div class="col-md-6 col-xs-11">
																<input checked="checked" class="rdo" value="男" type="radio"  name="ssex">男                                 
																<input  type="radio" class="rdo" name="ssex"  value="女">女                                                      
															</div>
														</div>              
														
														<div class="form-group">
															<label class="control-label col-md-4">头像</label>
															<div class="col-md-6 col-xs-11">
																<div class="fileupload fileupload-new" data-provides="fileupload">
																	<div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
																		<img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" alt="" />
																	</div>
																	<div class="fileupload-preview fileupload-exists thumbnail" style="max-width: 200px; max-height: 150px; line-height: 20px;"></div>
																	<div>
																		<span class="btn btn-default btn-file">
																			<span class="fileupload-new"><i class="fa fa-paper-clip"></i>选择图片</span>
																			<span class="fileupload-exists"><i class="fa fa-undo"></i> 更换</span>
																			<input type="file" class="default" name="file1" id="file1" />
																		</span>
																		<a href="#" class="btn btn-danger fileupload-exists" data-dismiss="fileupload">
																		<i class="fa fa-trash"></i> 移除</a>
																	</div>
																</div>
															</div>
														</div> 
														
														<div class="form-group">
															<label class="control-label col-md-4">专业</label>
															<div class="col-md-6 col-xs-11">
																<select id="s_mid" name="s_mid" class="form-control input-lg m-bot15">
																	
																</select> <span class="help-block">请选择您所在专业</span>
															</div>
														</div>

														<div class="modal-footer">
															<!-- <input data-dismiss="modal" class="btn btn-primary"
																type="submit" value="提交" id="btn"> -->
															<button type="submit" class="btn btn-primary" id="btn">提交</button>
															<button data-dismiss="modal" class="btn btn-primary"
																type="button">关闭</button>
														</div>
													</form>
												</div>

											</div>
										</div>
									</div>
									
									
									<!-- update  modal -->
									
									
									<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" 
										aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
													<h4 class="modal-title">Student Update</h4>
												</div>
											<div class="modal-body">
											<!--method="post"在springmvc 二进制文件上传，post是必须的。因为二进制文件不能通过URL明码提交服务端 -->
												<form action="files/update.action" method="post" class="form-horizontal " 
													enctype="multipart/form-data"   id="formUpdate" > 
													
													<div class="form-group">
														<label class="control-label col-md-4">学号</label>
															<div class="col-md-6 col-xs-11">
																<input class="form-control" name="sid" id="message-sid"
																	readonly="readonly" size="16" type="text" value="" />                                                      
															</div>
													</div>
													                                              
													<div class="form-group">
														<label class="control-label col-md-4">姓名</label>
															<div class="col-md-6 col-xs-11">
																<input class="form-control" name="sname" id="message-sname" size="16" type="text" value="" />                                                      
															</div>
													</div>
													<div class="form-group">
														<label class="control-label col-md-4">年龄</label>
															<div class="col-md-6 col-xs-11">
																<input class="form-control" name="sage" 
																	id="message-sage" size="16" type="text" value="" />                                                      
															</div>
													</div>
													<div class="form-group">
														<label class="control-label col-md-4">头像</label>
															<div class="col-md-6 col-xs-11">
																<div class="fileupload fileupload-new" data-provides="fileupload">
																	<div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
																		<img id="message-simg" name="simg" width="200px" height="150px" alt="" />
																	</div>
																	<div class="fileupload-preview fileupload-exists thumbnail" 
																		style="max-width: 200px; max-height: 150px; line-height: 20px;">
																	</div>
																	<div>
																		<span class="btn btn-default btn-file">
																			<span class="fileupload-new"><i class="fa fa-paper-clip"></i>选择图片</span>
																			<span class="fileupload-exists"><i class="fa fa-undo"></i>更换</span>
																			<input type="file" class="default" name="file2" id="file2" />
																		</span>
																		<a href="#" class="btn btn-danger fileupload-exists" data-dismiss="fileupload">
																			<i class="fa fa-trash">
																			</i>移除
																		</a>
																	</div>
																</div>                              
															</div>
														</div> 
                               				            <div class="form-group">
                                                        	<label class="control-label col-md-4">专业</label>
                                                            <div class="col-md-6">
                                                                <select class="form-control input-sm m-bot15" 
                                                                	name="s_mid" id="updateMajor">
                                                                </select>
                                                           	</div>
                                                      	</div>
                                                      	<div class="form-group">
                                                        	<label class="control-label col-md-4">实习公司</label>
                                                            <div class="col-md-6">
                                                                <select class="form-control input-sm m-bot15" 
                                                                	name="s_cid" id="updateCompany">
                                                                </select>
                                                           	</div>
                                                      	</div>
                                                      	<div class="form-group">
                                                        	<label class="control-label col-md-4">实习岗位</label>
                                                            <div class="col-md-6">
                                                                <select class="form-control input-sm m-bot15" 
                                                                	name="s_pid" id="updatePosition">
                                                                </select>
                                                           	</div>
                                                      	</div> 
														<div class="modal-footer">
															<button type="submit" class="btn btn-primary" id="sendModel6">确认更新</button>
															<button data-dismiss="modal" class="btn btn-primary" type="button">取消</button>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
                            		<!-- modal -->
								
								
									<!---->
									<!-- <table id="table1" data-url="user/list.action"
										data-toggle="table" data-search="true" data-show-toggle="true"
										data-page-list="[5, 10, 15]" data-pagination="true"
										data-show-export="true" data-click-to-select="true"
										data-show-columns="true" data-side-pagination="client">
										<thead>
											<tr>
												map.put("uid", user.getId());
													map.put("uname", user.getName());
													map.put("upwd", user.getPwd());
												<th data-field="uid">id</th>
												<th data-field="uname">name</th>
												<th data-field="upwd">pwd</th>
												<th data-field="aid">aid</th>
												<th data-field="atype">atype</th>
												<th class="hidden-phone">Engine version</th>
												<th class="hidden-phone">CSS grade</th>
											</tr>
										</thead>
									</table> -->
									
									<table id="table2">
										
									</table>
								</div>
							</div>
						</section>
					</div>
				</div>

			</div>
			<!--body wrapper end-->
				
				
			<!-- chart图 -->
			<div id="container" style="min-width:400px;height:400px"></div>
			
			
			<!--footer section start-->
			<footer> 2014 &copy; AdminEx by ThemeBucket </footer>
			<!--footer section end-->


		</div>
		<!-- main content end-->
	</section>

	<!-- Placed js at the end of the document so the pages load faster -->
	<script src="js/jquery-1.10.2.min.js"></script>
	<script src="js/jquery-ui-1.9.2.custom.min.js"></script>
	<script src="js/jquery-migrate-1.2.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/modernizr.min.js"></script>
	<script src="js/jquery.nicescroll.js"></script>
	<!--dynamic table-->
	<script src="js/bootstrap-table.js"></script>
	<script src="js/bootstrap-table-export.js"></script>
	<script src="js/bootstrap-table-zh-CN.js"></script>
	<script src="js/tableExport.js"></script>

	<script type="text/javascript" language="javascript"
		src="js/advanced-datatable/js/jquery.dataTables.js"></script>
	<script type="text/javascript" src="js/data-tables/DT_bootstrap.js"></script>
	<!--dynamic table initialization -->
	<script src="js/dynamic_table_init.js"></script>
	<!--file upload-->
	<script type="text/javascript" src="js/bootstrap-fileupload.min.js"></script>
	<script src="js/jquery.form.js" type="text/javascript"></script>
	<script src="js/fileload.js" type="text/javascript"></script>
	<!--common scripts for all pages-->
	<script src="js/scripts.js"></script>
	
	
	<script src="https://code.highcharts.com.cn/highcharts/highcharts.js"></script>
	<script src="https://code.highcharts.com.cn/highcharts/highcharts-more.js"></script>
	<script src="https://code.highcharts.com.cn/highcharts/modules/exporting.js"></script>
	<script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
	 
	<script type="text/javascript">
		$(document).ready(function() {
			
			//判断返回的url是否有 ok error. 必须是if else if，不能有else
			if(getQueryString("us")!=null && getQueryString("us")=="ok"){
				alert("upload ok");
			}else if(getQueryString("us")!=null && getQueryString("us")=="error"){
				alert("upload error");	
			}
			//脚本判断url获取参数的函数 通过方式之一正则表达式获取
			function getQueryString(name) { 
		        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i"); 
		        var r = window.location.search.substr(1).match(reg); 
		        if (r != null) return unescape(r[2]); 
		        return null; 
		    } 
			
			//第一次select之后放入HTML5缓存中，下次访问首先先查看缓存是否有记录，类似一个页面的Session性质

			var prolist={};
			if(window.localStorage){
					//读取HTML5中的缓存，key是deptlist，而且读取出来text格式，还需要JSON.p.. text转换为json格式
					prolist=localStorage.getItem("projlist");//JSON.parse(   .parseJSON()
			}else{
					prolist=Cookie.read("projlist");
			}
			
			if(prolist!=null && prolist!=""){
				//alert(prolist+" len:"+prolist.length);
				prolist=JSON.parse(prolist);
				
				var t="<option value='0'>--选择--</option>";	
				for(var i=0;i<prolist.major1.length;i++){
					t+="<option value='"+prolist.major1[i].mid+"'>"+prolist.major1[i].mname+"</option>";
				}
				$("#s_mid").html(t);
				$("#majorItems1").html(t);
				
				t="<option value='0'>--选择--</option>";	
				for(var i=0;i<prolist.company1.length;i++){
					t+="<option value='"+prolist.company1[i].cid+"'>"+prolist.company1[i].cname+"</option>";
				}
				$("#companyItems1").html(t);
				
				t="<option value='0'>--选择--</option>";	
				for(var i=0;i<prolist.position1.length;i++){
					t+="<option value='"+prolist.position1[i].pid+"'>"+prolist.position1[i].pname+"</option>";
				}
				$("#positionItems1").html(t);
				
			}else{
				alert(123)
				$.ajax({
					url : "stu/allMaj.action",
					method : 'get',
					dataType : 'json',
					success : function(data) {
						cl("projlist",JSON.stringify(data));
						var d = "<option value='0'>--选择--</option>";
						$.each(data.major1, function(i) {
							d += "<option value='"+data.major1[i].mid+"'>" + data.major1[i].mname + "</option>";
						});
						$("#s_mid").html(d);
						$("#majorItems1").html(d);
						
						d = "<option value='0'>--选择--</option>";
						$.each(data.company1, function(i) {
							d += "<option value='"+data.company1[i].cid+"'>" + data.company1[i].cname + "</option>";
						});
						$("#companyItems1").html(d);
						
						d = "<option value='0'>--选择--</option>";
						$.each(data.position1, function(i) {
							d += "<option value='"+data.position1[i].pid+"'>" + data.position1[i].pname + "</option>";
						});
						$("#positionItems1").html(d);
					},
					error : function() {
						alert("error");
					}
				});
			}
			
			$("#searchBtn").click(function() {
				var s_id = $('#id2').val().trim();
				if(""==s_id){
					s_id=-1;
				}
				//alert(123);
				$.ajax({
					url : "stu/search.action",
					method : 'get',
					dataType : 'json',
					data:{
						'sid':s_id,
						'sname':$('#name2').val(),
						's_mid':$('#majorItems1').val(),
						's_cid':$('#companyItems1').val(),
						's_pid':$('#positionItems1').val()
					},
					success : function(data) {
						$('#table2').bootstrapTable('load', data);
					},
					error : function() {
						alert("error");
					}
				});
			})
			
			$("#table2").bootstrapTable({
				url: 'stu/allStu.action',
				method : 'post', //
				contentType:"application/x-www-form-urlencoded",
				striped : true, //是否显示行间隔色
				//toolbar: '#searchForm1',//searchForm1               
				pagination : true, //是否显示分页（*）
				//queryParams : queryParams,
		         pageSize : 5, //初始化页大小
					pageList : [ 3, 5, 10 ],//data-page-list="[4, 7, 15]"
					singleSelect : true,
					sortable : true, //是否启用排序 				
					sidePagination : "client", //分页方式：client客户端分页，server服务端分页（*）
					strictSearch : true,
					minimumCountColumns : 2, //最少允许的列数
					clickToSelect : true, //是否启用点击选中行
					showRefresh : false, //是否显示刷新按钮
					uniqueId : "sid", //每一行的唯一标识，一般为主键列
					//cardView : true, //是否显示详细视图
					search : true,
					strictSearch : true,
					showColumns : true,
					showRefresh : true,
					showExport:true,
				onLoadError : function(data) {
					$('#table2').bootstrapTable('removeAll');
				},
				columns : [{
			        title: 'Image',
			        field: 'simg',
			        align: 'center',
			        formatter:function(value,row,index){		        	
			        	var d ="<img src='images/photos/"+row.simg+"' title='"+row.sid+
			        	"' width='38' height='30' />";
			        	//row.sid得bootstrap当前table的一行找到   
			        	return d;
			        }
			    },{		
					field : 'sid',
					title : '学号',
					align : 'center',
		            sortable : true
				}, {
					field : 'sname',
					title : '姓名',
					align : 'center',
		            sortable : true
				},{
					field : 'sage',
					title : '年龄',
					align : 'center',
		            sortable : true
				},{
					field : 'ssex',
					title : '性别',
					align : 'center',
		            sortable : true
				},{
					field : 'mname',
					title : '所学专业',
					align : 'center',
		            sortable : true
				},{
					field : 'cname',
					title : '实习公司',
					align : 'center',
		            sortable : true
				},{
					field : 'pname',
					title : '实习岗位',
					align : 'center',
		            sortable : true
				},{
					field : 'sdate',
					title : '注册时间',
					align : 'center',
		            sortable : true
				},{
			        title: '操作',
			        field: 'un',
			        align: 'center',
			        formatter:function(value,row,index){		        	
			        //把之前的列表链接 一行记录json {“uid”:2,"uname":....}	就是参数 row
			        	//var d ="<a href='javascript:void(0);' id='delequ' >Detail</a>";
			        	//row.uid得bootstrap当前table的一行找到   
			        	var d ="<button type='button' class='btn btn-danger' data-toggle='modal'"+
						        " data-target='#exampleModal' data-sname='"+row.sname+"' data-sage ='"+
						        row.sage+"' data-s_mid='"+row.s_mid+"' data-simg='"+
						        row.simg+"'data-sid='"+row.sid+"' data-cid='" + 
						        row.cid+"' data-pid='"+ row.pid +"'>Update</button>"; 
						var s="&nbsp;<button class='btn btn-success' title='"+row.sid+
						    "' id='deleteBtn' type='button'>Delete</button>";
			        	return d+s;
			        }
			    }]
				,onClickRow: function (row, $element){
			    	//alert("sid:"+row.sid);
			    }
		   });
			
			
			//作用异步遍历的button把当点击该行的数据封装到模态框中，并且显示模态框、
			//实质是bootstrapTable的主线程，分配了一个子线程，并且数据分享给了该子线程去show和显示
			$('#exampleModal').on('show.bs.modal', function (event) {  
		        var button = $(event.relatedTarget); // 触发事件的按钮  
		        var sname1 = button.data('sname'); // 解析出data-sname内容  
				var sage1 = button.data('sage');
		        var simg1=button.data('simg');
		        var s_mid1=button.data('s_mid');
		        var sid1=button.data('sid');
		        var cid1=button.data('cid');
		        var pid1=button.data('pid');

		        var modal = $(this)  	       
		        modal.find('.modal-body #recipient-name').html("欢迎你:"+sname1+",学号:"+sid1) ; 
		        modal.find('.modal-body #message-sid').val(sid1) ;
		        modal.find('.modal-body #message-sname').val(sname1) ; 
				modal.find('.modal-body #message-sage').val(sage1) ; 
				modal.find('.modal-body #message-simg').attr("src","images/photos/"+simg1) ; 
				//prolist=JSON.parse(prolist);
				var t="";	
				for(var i=0;i<prolist.major1.length;i++){
					if(prolist.major1[i].mid==s_mid1){
						t+="<option value='"+prolist.major1[i].mid+"' selected='selected'>"+prolist.major1[i].mname+"</option>";
					}else{
						t+="<option value='"+prolist.major1[i].mid+"'>"+prolist.major1[i].mname+"</option>";	
					}				
				}
				$("#updateMajor").html(t);
				t="";
				for(var i=0;i<prolist.company1.length;i++){
					if(prolist.company1[i].cid==cid1){
						t+="<option value='"+prolist.company1[i].cid+"' selected='selected'>"+prolist.company1[i].cname+"</option>";
					}else{
						t+="<option value='"+prolist.company1[i].cid+"'>"+prolist.company1[i].cname+"</option>";	
					}				
				}
				$("#updateCompany").html(t);
				t="";
				for(var i=0;i<prolist.position1.length;i++){
					if(prolist.position1[i].pid==pid1){
						t+="<option value='"+prolist.position1[i].pid+"' selected='selected'>"+prolist.position1[i].pname+"</option>";
					}else{
						t+="<option value='"+prolist.position1[i].pid+"'>"+prolist.position1[i].pname+"</option>";	
					}				
				}
				$("#updatePosition").html(t);
		    });
			
			
			//单击主表一行，获取cid公司主键，执行函数显示子表。
			$(document).on("click","#deleteBtn",function(){
				var id=$(this).attr("title");
				var stat = confirm("确认删除吗？");
				if(!stat){
					return false;
				}
				
				//alert("sid:"+id);
				//ajax().....
				$.ajax({
					url : "stu/delete.action",
					method : 'get',
					dataType : 'json',
					data:{
						'sid':id
					},
					success : function(data) {
						alert("删除成功")
						$('#table2').bootstrapTable('load', data);
					},
					error : function() {
						alert("error");
					}
				});
				
			});
			//要把要存储HTML5缓存的数据放入缓存function
			function cl(key,msg){
				//存储，IE6~7 cookie 其他浏览器HTML5本地存储
				//判断当前浏览器是否支持HTML5，
				if (window.localStorage) {
					 //封装浏览器缓存 WebStrong，setItem类似setAttribute方法
				    localStorage.setItem(key,msg);	
				} else {
					//封装Cookie
				    Cookie.write(key,msg);	
				}
			}
			
			$.ajax({
				url : "stu/allnum.action",
				method : 'get',
				dataType : 'json',
				success : function(data) {
					allnum(data);
				},
				error : function() {
					alert("error");
				}
			});
			
			function allnum(result) {
				var chart = Highcharts.chart('container', {
				    chart: {
				        type: 'bar'
				    },
				    title: {
				        text: result.text
				    },
				    xAxis: {
				        categories: result.categories
				    },
				    yAxis: {
				        min: 0,
				        title: {
				            text: ''
				        }
				    },
				    legend: {
				        /* 图例显示顺序反转
				         * 这是因为堆叠的顺序默认是反转的，可以设置 
				         * yAxis.reversedStacks = false 来达到类似的效果 
				         */
				        reversed: true 
				    },
				    plotOptions: {
				        series: {
				            stacking: 'normal'
				        }
				    },
				    series: [{
				        name: result.name,
				        data: result.data
				    }]
				});
			}
			
			
		})
		
		

	</script>


	
</body>
</html>
